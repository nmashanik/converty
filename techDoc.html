<!DOCTYPE html>

<html lang="English">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Technical documentation &#8212; Converty  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Welcome to Converty&#39;s documentation!" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-converter">
<span id="technical-documentation"></span><h1>Technical documentation<a class="headerlink" href="#module-converter" title="Permalink to this heading">¶</a></h1>
<p>Converter telegram bot business logic, functions for conversion</p>
<dl class="py function">
<dt class="sig sig-object py" id="converter.convert_files_to_zip">
<span class="sig-prename descclassname"><span class="pre">converter.</span></span><span class="sig-name descname"><span class="pre">convert_files_to_zip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#converter.convert_files_to_zip" title="Permalink to this definition">¶</a></dt>
<dd><p>Archives files and returns path to zip</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>user_id</strong> (<em>str</em>) -- unique identifier for telegram user</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="converter.convert_images_to_pdf">
<span class="sig-prename descclassname"><span class="pre">converter.</span></span><span class="sig-name descname"><span class="pre">convert_images_to_pdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#converter.convert_images_to_pdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes pdf from pictures and returns path to generated file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>user_id</strong> (<em>str</em>) -- unique identifier for telegram user</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="converter.convert_pdf_to_images">
<span class="sig-prename descclassname"><span class="pre">converter.</span></span><span class="sig-name descname"><span class="pre">convert_pdf_to_images</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#converter.convert_pdf_to_images" title="Permalink to this definition">¶</a></dt>
<dd><p>Splits pdf into pictures and returns path to the directory with produced pictures</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>user_id</strong> (<em>str</em>) -- unique identifier for telegram user</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="converter.convert_zip_to_files">
<span class="sig-prename descclassname"><span class="pre">converter.</span></span><span class="sig-name descname"><span class="pre">convert_zip_to_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#converter.convert_zip_to_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Unzips archive and returns path to the directory with produced pictures</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>user_id</strong> (<em>str</em>) -- unique identifier for telegram user</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="converter.remove_files">
<span class="sig-prename descclassname"><span class="pre">converter.</span></span><span class="sig-name descname"><span class="pre">remove_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_images</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#converter.remove_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Cleans users' directory after conversion</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user_id</strong> (<em>str</em>) -- unique identifier for telegram user</p></li>
<li><p><strong>only_images</strong> (<em>Bool</em>) -- removes only pictures</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-db_manager"></span><p>DB_manager module</p>
<dl class="py function">
<dt class="sig sig-object py" id="db_manager.db_connect">
<span class="sig-prename descclassname"><span class="pre">db_manager.</span></span><span class="sig-name descname"><span class="pre">db_connect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">psql_config</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#db_manager.db_connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes connection to postgres server</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>psql_config</strong> -- postgres connection config</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="db_manager.db_delete_email">
<span class="sig-prename descclassname"><span class="pre">db_manager.</span></span><span class="sig-name descname"><span class="pre">db_delete_email</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">userid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#db_manager.db_delete_email" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete user's email from db</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> -- postgres db connection</p></li>
<li><p><strong>userid</strong> -- user identifier</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="db_manager.db_get_email">
<span class="sig-prename descclassname"><span class="pre">db_manager.</span></span><span class="sig-name descname"><span class="pre">db_get_email</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">userid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#db_manager.db_get_email" title="Permalink to this definition">¶</a></dt>
<dd><p>Get user's email from db</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> -- postgres db connection</p></li>
<li><p><strong>userid</strong> -- user identifier</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="db_manager.db_migrate">
<span class="sig-prename descclassname"><span class="pre">db_manager.</span></span><span class="sig-name descname"><span class="pre">db_migrate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#db_manager.db_migrate" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies DB migrations if needed</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>db</strong> -- postgres db connection</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="db_manager.db_write_email">
<span class="sig-prename descclassname"><span class="pre">db_manager.</span></span><span class="sig-name descname"><span class="pre">db_write_email</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">userid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">email</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#db_manager.db_write_email" title="Permalink to this definition">¶</a></dt>
<dd><p>Write user's email to db</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> -- postgres db connection</p></li>
<li><p><strong>userid</strong> -- user identifier</p></li>
<li><p><strong>email</strong> -- user email</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="db_manager.db_write_feedback">
<span class="sig-prename descclassname"><span class="pre">db_manager.</span></span><span class="sig-name descname"><span class="pre">db_write_feedback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#db_manager.db_write_feedback" title="Permalink to this definition">¶</a></dt>
<dd><p>Write comment to db</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> -- postgres db connection</p></li>
<li><p><strong>comment</strong> -- user's feedback about service</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="db_manager.get_migration_num">
<span class="sig-prename descclassname"><span class="pre">db_manager.</span></span><span class="sig-name descname"><span class="pre">get_migration_num</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#db_manager.get_migration_num" title="Permalink to this definition">¶</a></dt>
<dd><p>Return version integer conversation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>version</strong> (<em>str</em>) -- migration version string, for example &quot;2.1.1&quot;</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-localization"></span><p>Localization module</p>
<dl class="py class">
<dt class="sig sig-object py" id="localization.Localization">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">localization.</span></span><span class="sig-name descname"><span class="pre">Localization</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'en'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#localization.Localization" title="Permalink to this definition">¶</a></dt>
<dd><p>Сlass with custom logic for getting user's locale</p>
<dl class="py method">
<dt class="sig sig-object py" id="localization.Localization.get_user_locale">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_user_locale</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">action</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#localization.Localization.get_user_locale" title="Permalink to this definition">¶</a></dt>
<dd><p>User's locale getter for localization, returns locale name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>action</strong> -- event name</p></li>
<li><p><strong>args</strong> -- event arguments</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="localization.get_locale">
<span class="sig-prename descclassname"><span class="pre">localization.</span></span><span class="sig-name descname"><span class="pre">get_locale</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#localization.get_locale" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets user locale from saved file and returns it or return default locale</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>user_id</strong> (<em>str</em>) -- unique identifier for telegram user</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="localization.save_locale">
<span class="sig-prename descclassname"><span class="pre">localization.</span></span><span class="sig-name descname"><span class="pre">save_locale</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'en'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#localization.save_locale" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves user's locale to file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user_id</strong> (<em>str</em>) -- unique identifier for telegram user</p></li>
<li><p><strong>locale</strong> -- user's locale, default = en</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-mailer"></span><p>Mailer module</p>
<dl class="py function">
<dt class="sig sig-object py" id="mailer.send_email">
<span class="sig-prename descclassname"><span class="pre">mailer.</span></span><span class="sig-name descname"><span class="pre">send_email</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">smtp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sender</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mailer.send_email" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends email with processed file to address</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>smtp</strong> -- smtp connection</p></li>
<li><p><strong>sender</strong> -- from address</p></li>
<li><p><strong>address</strong> -- to address</p></li>
<li><p><strong>filename</strong> -- path to output file</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mailer.smpt_connect">
<span class="sig-prename descclassname"><span class="pre">mailer.</span></span><span class="sig-name descname"><span class="pre">smpt_connect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">smtp_config</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mailer.smpt_connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes connection to smtp server</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>smtp_config</strong> -- smtp connection config</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-telegram_bot"></span><p>Converter telegram bot, command processing</p>
<dl class="py function">
<dt class="sig sig-object py" id="telegram_bot.handle_document_message">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">telegram_bot.</span></span><span class="sig-name descname"><span class="pre">handle_document_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Message</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telegram_bot.handle_document_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles document messages and saves it to the users' directory</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>msg</strong> (<em>aiogram.types.Message</em>) -- message from user</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telegram_bot.handle_feedback">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">telegram_bot.</span></span><span class="sig-name descname"><span class="pre">handle_feedback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Message</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telegram_bot.handle_feedback" title="Permalink to this definition">¶</a></dt>
<dd><p>Make feedback about bot</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telegram_bot.handle_help">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">telegram_bot.</span></span><span class="sig-name descname"><span class="pre">handle_help</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Message</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telegram_bot.handle_help" title="Permalink to this definition">¶</a></dt>
<dd><p>Processes the help command, sends user commands' descriptions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>msg</strong> (<em>aiogram.types.Message</em>) -- message from user</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telegram_bot.handle_lang">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">telegram_bot.</span></span><span class="sig-name descname"><span class="pre">handle_lang</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Message</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telegram_bot.handle_lang" title="Permalink to this definition">¶</a></dt>
<dd><p>Change bot language</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telegram_bot.handle_make">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">telegram_bot.</span></span><span class="sig-name descname"><span class="pre">handle_make</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Message</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telegram_bot.handle_make" title="Permalink to this definition">¶</a></dt>
<dd><p>Processes the make command, parses format and sends user converted file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>msg</strong> (<em>aiogram.types.Message</em>) -- message from user</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telegram_bot.handle_photo_message">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">telegram_bot.</span></span><span class="sig-name descname"><span class="pre">handle_photo_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Message</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telegram_bot.handle_photo_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles photo messages and saves it to the users' directory</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>msg</strong> (<em>aiogram.types.Message</em>) -- message from user</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telegram_bot.handle_reset">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">telegram_bot.</span></span><span class="sig-name descname"><span class="pre">handle_reset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Message</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telegram_bot.handle_reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Processes the reset command, deletes uploaded files</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>msg</strong> (<em>aiogram.types.Message</em>) -- message from user</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telegram_bot.handle_sendmail">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">telegram_bot.</span></span><span class="sig-name descname"><span class="pre">handle_sendmail</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Message</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telegram_bot.handle_sendmail" title="Permalink to this definition">¶</a></dt>
<dd><p>Make feedback about bot</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telegram_bot.handle_start">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">telegram_bot.</span></span><span class="sig-name descname"><span class="pre">handle_start</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Message</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telegram_bot.handle_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Processes the start command, creates users' directory and says hi</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>msg</strong> (<em>aiogram.types.Message</em>) -- message from user</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telegram_bot.handle_stop">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">telegram_bot.</span></span><span class="sig-name descname"><span class="pre">handle_stop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Message</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telegram_bot.handle_stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Processes the stop command, deletes users' directory and says bye</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>msg</strong> (<em>aiogram.types.Message</em>) -- message from user</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telegram_bot.handle_text_message">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">telegram_bot.</span></span><span class="sig-name descname"><span class="pre">handle_text_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Message</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telegram_bot.handle_text_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Text handler</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telegram_bot.signal_handler">
<span class="sig-prename descclassname"><span class="pre">telegram_bot.</span></span><span class="sig-name descname"><span class="pre">signal_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telegram_bot.signal_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Signal handler</p>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Converty</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">    Technical documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#converter.convert_files_to_zip"><code class="docutils literal notranslate"><span class="pre">convert_files_to_zip()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#converter.convert_images_to_pdf"><code class="docutils literal notranslate"><span class="pre">convert_images_to_pdf()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#converter.convert_pdf_to_images"><code class="docutils literal notranslate"><span class="pre">convert_pdf_to_images()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#converter.convert_zip_to_files"><code class="docutils literal notranslate"><span class="pre">convert_zip_to_files()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#converter.remove_files"><code class="docutils literal notranslate"><span class="pre">remove_files()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#db_manager.db_connect"><code class="docutils literal notranslate"><span class="pre">db_connect()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#db_manager.db_delete_email"><code class="docutils literal notranslate"><span class="pre">db_delete_email()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#db_manager.db_get_email"><code class="docutils literal notranslate"><span class="pre">db_get_email()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#db_manager.db_migrate"><code class="docutils literal notranslate"><span class="pre">db_migrate()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#db_manager.db_write_email"><code class="docutils literal notranslate"><span class="pre">db_write_email()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#db_manager.db_write_feedback"><code class="docutils literal notranslate"><span class="pre">db_write_feedback()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#db_manager.get_migration_num"><code class="docutils literal notranslate"><span class="pre">get_migration_num()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#localization.Localization"><code class="docutils literal notranslate"><span class="pre">Localization</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#localization.get_locale"><code class="docutils literal notranslate"><span class="pre">get_locale()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#localization.save_locale"><code class="docutils literal notranslate"><span class="pre">save_locale()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#mailer.send_email"><code class="docutils literal notranslate"><span class="pre">send_email()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#mailer.smpt_connect"><code class="docutils literal notranslate"><span class="pre">smpt_connect()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telegram_bot.handle_document_message"><code class="docutils literal notranslate"><span class="pre">handle_document_message()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telegram_bot.handle_feedback"><code class="docutils literal notranslate"><span class="pre">handle_feedback()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telegram_bot.handle_help"><code class="docutils literal notranslate"><span class="pre">handle_help()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telegram_bot.handle_lang"><code class="docutils literal notranslate"><span class="pre">handle_lang()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telegram_bot.handle_make"><code class="docutils literal notranslate"><span class="pre">handle_make()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telegram_bot.handle_photo_message"><code class="docutils literal notranslate"><span class="pre">handle_photo_message()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telegram_bot.handle_reset"><code class="docutils literal notranslate"><span class="pre">handle_reset()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telegram_bot.handle_sendmail"><code class="docutils literal notranslate"><span class="pre">handle_sendmail()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telegram_bot.handle_start"><code class="docutils literal notranslate"><span class="pre">handle_start()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telegram_bot.handle_stop"><code class="docutils literal notranslate"><span class="pre">handle_stop()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telegram_bot.handle_text_message"><code class="docutils literal notranslate"><span class="pre">handle_text_message()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telegram_bot.signal_handler"><code class="docutils literal notranslate"><span class="pre">signal_handler()</span></code></a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Welcome to Converty's documentation!</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, Margarita Yakovleva.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.0.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="_sources/techDoc.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>